-- Tạo ScreenGui
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local SpeedInput = Instance.new("TextBox")
local JumpInput = Instance.new("TextBox")
local ToggleBtn = Instance.new("TextButton")
local UICorner = Instance.new("UICorner")

-- Thiết lập ScreenGui
ScreenGui.Name = "CompactMenu"
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Thiết lập Main Frame (Giao diện chính)
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
MainFrame.Position = UDim2.new(0.5, -75, 0.5, -75)
MainFrame.Size = UDim2.new(0, 150, 0, 180)
MainFrame.Active = true
MainFrame.Draggable = true -- Tính năng kéo thả cơ bản

local Corner = Instance.new("UICorner", MainFrame)
Corner.CornerRadius = UDim.new(0, 10)

-- Tiêu đề
Title.Parent = MainFrame
Title.BackgroundTransparency = 1
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Font = Enum.Font.GothamBold
Title.Text = "COMPACT MOD"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 14

-- Ô nhập Tốc độ (Speed)
SpeedInput.Parent = MainFrame
SpeedInput.PlaceholderText = "Speed (16)..."
SpeedInput.Size = UDim2.new(0.8, 0, 0, 30)
SpeedInput.Position = UDim2.new(0.1, 0, 0.25, 0)
SpeedInput.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
SpeedInput.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", SpeedInput)

-- Ô nhập Nhảy cao (Jump)
JumpInput.Parent = MainFrame
JumpInput.PlaceholderText = "Jump (50)..."
JumpInput.Size = UDim2.new(0.8, 0, 0, 30)
JumpInput.Position = UDim2.new(0.1, 0, 0.45, 0)
JumpInput.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
JumpInput.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", JumpInput)

-- Nút Toggle (Bật/Tắt)
ToggleBtn.Parent = MainFrame
ToggleBtn.Name = "ToggleBtn"
ToggleBtn.Text = "APPLY"
ToggleBtn.Size = UDim2.new(0.8, 0, 0, 35)
ToggleBtn.Position = UDim2.new(0.1, 0, 0.7, 0)
ToggleBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 127)
ToggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleBtn.Font = Enum.Font.GothamBold
Instance.new("UICorner", ToggleBtn)

-- LOGIC XỬ LÝ
local active = false

ToggleBtn.MouseButton1Click:Connect(function()
    local char = game.Players.LocalPlayer.Character
    local hum = char and char:FindFirstChildOfClass("Humanoid")
    
    if hum then
        active = not active
        if active then
            -- Áp dụng chỉ số
            hum.WalkSpeed = tonumber(SpeedInput.Text) or 16
            hum.JumpPower = tonumber(JumpInput.Text) or 50
            ToggleBtn.Text = "RESET"
            ToggleBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
        else
            -- Reset về mặc định
            hum.WalkSpeed = 16
            hum.JumpPower = 50
            ToggleBtn.Text = "APPLY"
            ToggleBtn.BackgroundColor3 = Color3.fromRGB(0, 170, 127)
        end
    end
end)

-- Phím tắt ẩn/hiện menu (Phím L)
game:GetService("UserInputService").InputBegan:Connect(function(input, gpe)
    if not gpe and input.KeyCode == Enum.KeyCode.L then
        MainFrame.Visible = not MainFrame.Visible
    end
end)
