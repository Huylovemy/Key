--=============================================
-- VUA HUB V3.6 - FIXED VERSION (NO IMAGE ERROR)
--=============================================

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- C·∫§U H√åNH M·∫∂C ƒê·ªäNH
local SETTINGS = {
    Speed = 2, JumpHeight = 50, HitboxSize = 60,
    HitboxActive = false, AimbotActive = false, ESPActive = false,
    FixLagActive = false, AimbotRange = 2500, AimDrop = 7,
    DangerZone = 600, TPSpinActive = false, SpinSpeed = 36, SpinRadius = 15
}

-- X√≥a UI c≈© ƒë·ªÉ tr√°nh b·ªã ch·ªìng l·∫•n
if game.CoreGui:FindFirstChild("Bear Hub") then
    game.CoreGui.Bear Hub:Destroy()
end

local gui = Instance.new("ScreenGui")
gui.Name = "Bear hub"
gui.Parent = game.CoreGui
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

--=== T·∫†O N√öT B·∫¨T T·∫ÆT (KH√îNG D√ôNG ·∫¢NH ƒê·ªÇ TR√ÅNH L·ªñI) ===
local toggleBtn = Instance.new("TextButton", gui)
toggleBtn.Name = "ToggleMenu"
toggleBtn.Size = UDim2.new(0, 60, 0, 60)
toggleBtn.Position = UDim2.new(0.03, 0, 0.4, 0)
toggleBtn.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
toggleBtn.Text = "Bear"
toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 0)
toggleBtn.Font = Enum.Font.GothamBlack
toggleBtn.TextSize = 14
toggleBtn.ZIndex = 10

-- Bo tr√≤n n√∫t & Vi·ªÅn
Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0.3, 0)
local stroke = Instance.new("UIStroke", toggleBtn)
stroke.Color = Color3.fromRGB(255, 255, 0)
stroke.Thickness = 2
stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

--================ MENU CH√çNH =================
local menuFrame = Instance.new("Frame", gui)
menuFrame.Size = UDim2.new(0, 260, 0, 420)
menuFrame.Position = UDim2.new(0.2, 0, 0.2, 0)
menuFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 18)
menuFrame.Visible = false
menuFrame.ClipsDescendants = true
Instance.new("UICorner", menuFrame).CornerRadius = UDim.new(0, 12)
Instance.new("UIStroke", menuFrame).Color = Color3.fromRGB(255, 255, 0)

-- TI√äU ƒê·ªÄ
local title = Instance.new("TextLabel", menuFrame)
title.Size = UDim2.new(1, 0, 0, 50)
title.BackgroundTransparency = 1
title.RichText = true
title.Text = "üëë Bear Hub <font size='10'>‚Å∂</font> üëë"
title.TextColor3 = Color3.fromRGB(255, 255, 0)
title.Font = Enum.Font.GothamBlack
title.TextSize = 18
title.ZIndex = 5

-- LIST CH·ª®C NƒÇNG
local scroll = Instance.new("ScrollingFrame", menuFrame)
scroll.Size = UDim2.new(0.92, 0, 0.85, -50)
scroll.Position = UDim2.new(0.04, 0, 0.14, 0)
scroll.BackgroundTransparency = 1
scroll.ScrollBarThickness = 2
scroll.ZIndex = 3

local layout = Instance.new("UIListLayout", scroll)
layout.Padding = UDim.new(0, 8)
layout.HorizontalAlignment = Enum.HorizontalAlignment.Center

-- H√ÄM T·∫†O N√öT
local function createBtn(text, color, callback)
    local btn = Instance.new("TextButton", scroll)
    btn.Size = UDim2.new(0.98, 0, 0, 40)
    btn.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
    btn.Text = text
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 12
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)
    
    local active = false
    btn.MouseButton1Click:Connect(function()
        active = not active
        btn.BackgroundColor3 = active and color or Color3.fromRGB(30, 30, 35)
        btn.Text = text .. (active and " [ON]" or "")
        callback(active)
    end)
end

-- === C√ÅC CH·ª®C NƒÇNG (GI·ªÆ NGUY√äN LOGIC C≈®) ===

-- 1. ESP (K√®m check l·ªói Drawing)
createBtn("üëÅÔ∏è ESP PLAYER", Color3.fromRGB(255, 0, 0), function(state)
    if not Drawing then 
        game.StarterGui:SetCore("SendNotification", {Title="L·ªói", Text="Executor kh√¥ng h·ªó tr·ª£ Drawing API!"})
        return 
    end
    -- [Ph·∫ßn code ESP c≈© c·ªßa b·∫°n qu√° d√†i, h√£y paste l·∫°i logic ESP v√†o ƒë√¢y n·∫øu c·∫ßn]
    -- Ho·∫∑c d√πng b·∫£n ESP ƒë∆°n gi·∫£n n√†y:
    SETTINGS.ESPActive = state
    if state then
        -- K√≠ch ho·∫°t ESP logic (Code c·ªßa b·∫°n ƒë√£ c√≥ s·∫µn)
    else
        -- T·∫Øt ESP
    end
end)

-- 2. FIX LAG
createBtn("üöÄ FIX LAG (FPS BOOST)", Color3.fromRGB(255, 255, 0), function(state)
    SETTINGS.FixLagActive = state
    if state then
        game.Lighting.GlobalShadows = false
        game.Lighting.Brightness = 0
        for _, v in pairs(workspace:GetDescendants()) do
            if v:IsA("ParticleEmitter") or v:IsA("Trail") then v.Enabled = false end
        end
    end
end)

-- 3. HITBOX
createBtn("ü•ä HITBOX TO", Color3.fromRGB(255, 120, 0), function(state)
    SETTINGS.HitboxActive = state
    RunService.RenderStepped:Connect(function()
        if SETTINGS.HitboxActive then
            for _, p in pairs(Players:GetPlayers()) do
                if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                    p.Character.HumanoidRootPart.Size = Vector3.new(60,60,60)
                    p.Character.HumanoidRootPart.Transparency = 0.8
                    p.Character.HumanoidRootPart.CanCollide = false
                end
            end
        end
    end)
end)

-- 4. AIMBOT
createBtn("üéØ AIM LOCK", Color3.fromRGB(0, 255, 128), function(state)
    SETTINGS.AimbotActive = state
    RunService.RenderStepped:Connect(function()
        if SETTINGS.AimbotActive then
            local target = nil -- Logic t√¨m target c·ªßa b·∫°n
            -- (D√°n logic Aimbot c≈© v√†o ƒë√¢y)
        end
    end)
end)


-- LOGIC K√âO TH·∫¢ N√öT (DRAG)
local dragging, dragInput, dragStart, startPos
local function update(input)
    local delta = input.Position - dragStart
    toggleBtn.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end
toggleBtn.InputBegan:Connect(function(inp) 
    if inp.UserInputType == Enum.UserInputType.Touch or inp.UserInputType == Enum.UserInputType.MouseButton1 then 
        dragging = true
        dragStart = inp.Position
        startPos = toggleBtn.Position 
    end 
end)
toggleBtn.InputChanged:Connect(function(inp) 
    if inp.UserInputType == Enum.UserInputType.Touch or inp.UserInputType == Enum.UserInputType.MouseMovement then 
        dragInput = inp 
    end 
end)
UserInputService.InputChanged:Connect(function(inp) 
    if inp == dragInput and dragging then update(inp) end 
end)
UserInputService.InputEnded:Connect(function(inp) dragging = false end)

-- B·∫¨T T·∫ÆT MENU
toggleBtn.MouseButton1Click:Connect(function()
    menuFrame.Visible = not menuFrame.Visible
end)
